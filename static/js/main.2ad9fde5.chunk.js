(this["webpackJsonplights-out"]=this["webpackJsonplights-out"]||[]).push([[0],{49:function(t,e,n){t.exports=n(61)},54:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),a=n(15),o=n.n(a),s=(n(54),n(23)),u=n(7),c=n(85),l=n(82),h=n(84);function f(){E.time("solve");var t=E.m,e=E.n,n=function(){for(var t=E.m,e=E.n,n=E.matrix,i=function(n,i){return n<0||i<0||n>=t||i>=e?-1:n*e+i},r=[],a=0;a<t;a++)for(var o=function(o){var s=i(a,o);r[s]=[];for(var u=0;u<t*e;u++)r[s][u]=0;[i(a,o),i(a-1,o),i(a,o-1),i(a+1,o),i(a,o+1)].filter((function(t){return-1!=t})).forEach((function(t){return r[s][t]=1})),r[s][t*e]=n[a][o]},s=0;s<e;s++)o(s);return r}(),i=function(t){var e=t.length,n=t[0].length,i={},r=!0,a=-1;t:for(var o=0,s=0;o<e&&s<n-1;o++,s++){for(var u=l(o,s);-1==u;){if(++s>=n-1)break t;u=l(o,s)}h(o,u),f(o,s),a=i[s]=o}for(var c=a+1;c<e;c++)if(0!=t[c][n-1]){r=!1;break}return[t,i,r];function l(n,i){for(var r=n;r<e;r++)if(0!=t[r][i])return r;return-1}function h(e,n){var i=[t[n],t[e]];t[e]=i[0],t[n]=i[1]}function f(i,r){for(var a=i+1;a<e;a++)if(0!=t[a][r])for(var o=r;o<n;o++)t[a][o]=(t[a][o]+t[i][o])%2}}(n),r=Object(u.a)(i,3),a=(r[0],r[1]);if(!r[2])return E.timeEnd("solve"),[d(),!0];for(var o=[],s=n.length,c=0;c<s;c++)c in a||(o[c]=0);for(var l=s-1;l>=0;l--)if(l in a){var h=a[l];o[l]=n[h][s];for(var f=l+1;f<s;f++)o[l]=(o[l]+n[h][f]*o[f])%2}for(var p=[],m=0;m<t;m++){p[m]=[];for(var v=0;v<e;v++)p[m][v]=o[m*e+v]}return E.timeEnd("solve"),[p,!1]}function d(){for(var t=E.m,e=E.n,n=[],i=0;i<t;i++){n[i]=[];for(var r=0;r<e;r++)n[i][r]=0}return n}var p=n(11),m=n(12),v=function(){function t(e,n){Object(p.a)(this,t),this.x=this.y=this.w=this.h=0,this.i=e,this.j=n}return Object(m.a)(t,[{key:"update",value:function(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i}},{key:"draw",value:function(t){if(t.push(),t.fill(this.getColor()),t.rect(this.x,this.y,this.w,this.h),E.showSolution&&E.solution[this.i][this.j]){var e=.05*this.w,n=this.x+this.w-e-.04*this.w,i=this.y+this.h-e-.04*this.h;t.fill("#ff0000"),t.stroke("#ffffff"),t.strokeWeight(.2),t.circle(n,i,2*e)}t.pop()}},{key:"checkMouseClick",value:function(t,e){if(t>=this.x&&t<=this.x+this.w&&e>=this.y&&e<=this.y+this.h){var n=E.m,i=E.n,r=E.editMode,a=this.i,o=this.j;E.toggleSquare(a,o),r||(a-1>=0&&E.toggleSquare(a-1,o),o-1>=0&&E.toggleSquare(a,o-1),a+1<n&&E.toggleSquare(a+1,o),o+1<i&&E.toggleSquare(a,o+1)),E.updateSolution()}}},{key:"getColor",value:function(){switch(E.matrix[this.i][this.j]){case 0:return"#000000";case 1:return"#f2fc32";default:return"#ffffff"}}}]),t}(),g=function(){function t(e,n){Object(p.a)(this,t),this.x=e,this.y=n}return Object(m.a)(t,[{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"mult",value:function(t){return this.x*=t,this.y*=t,this}},{key:"div",value:function(t){return this.x/=t,this.y/=t,this}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){var t=this.mag();return 0==t?this.mult(0):this.div(t),this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"angleBetween",value:function(t){return t.angle()-this.angle()}},{key:"rotate",value:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.x,r=this.y;return this.x=i*e-r*n,this.y=i*n+r*e,this}}]),t}();g.random=function(){return new g(2*Math.random()-1,2*Math.random()-1)},g.randomUnit=function(){return g.random().normalize()};var b=function(){function t(e,n,i,r,a){Object(p.a)(this,t),this.pos=new g(e,n),this.vel=new g(0,0),this.acc=new g(0,0),this.size=i,this.color=r,this.lifespan=this.initLifespan=a}return Object(m.a)(t,[{key:"applyForce",value:function(t,e){this.acc.x+=t,this.acc.y+=e}},{key:"update",value:function(){this.lifespan--,this.vel.add(this.acc),this.pos.add(this.vel),this.acc.mult(0),this.color.setAlpha(this.lifespan/this.initLifespan*255)}},{key:"draw",value:function(t){t.push(),t.fill(this.color),t.stroke(this.color),t.circle(this.pos.x,this.pos.y,this.size),t.pop()}}]),t}();function x(t,e){return Math.random()*(e-t)+t}var w=function(){function t(e,n,i,r,a,o){Object(p.a)(this,t),this.pos=new g(e,n),this.vel=new g(0,0),this.acc=new g(0,0),this.size=i,this.color=r,this.lifespan=this.initLifespan=a,this.particles=o}return Object(m.a)(t,[{key:"applyForce",value:function(t,e){this.acc.x+=t,this.acc.y+=e}},{key:"update",value:function(){this.lifespan--,this.vel.add(this.acc),this.pos.add(this.vel),this.acc.mult(0),this.color.setAlpha(this.lifespan/this.initLifespan*255),this.vel.y>1&&this.explode()}},{key:"explode",value:function(){this.lifespan=0;for(var t=0;t<30;t++){var e=new b(this.pos.x,this.pos.y,6,this.color,70);E.fireworkParticles.push(e);var n=Math.abs(5)/2;e.applyForce(x(-n,n),x(-4,1))}}},{key:"draw",value:function(t){t.push(),t.fill(this.color),t.stroke(this.color),t.circle(this.pos.x,this.pos.y,this.size),t.pop()}}]),t}(),y=function(t,e){var n,i,r=new g(0,.1);t.setup=function(){i=t.canvas.parentNode,(n=t.createCanvas(i.offsetWidth,i.offsetHeight).canvas).onselectstart=function(){return!1},n.oncontextmenu=function(){return!1},e.newGame(e.initMatrix)},t.draw=function(){!function(){var e=i.getBoundingClientRect(),n=e.width,r=e.height;t.width==n&&t.height==r||t.resizeCanvas(n,r)}(),t.update(),t.clear(),function(){for(var n=e.m,i=e.n,r=e.squares,a=0;a<n;a++)for(var o=0;o<i;o++)r[a][o].draw(t)}(),function(){var n=e.fireworks,i=e.fireworkParticles;n.forEach((function(e){return e.draw(t)})),i.forEach((function(e){return e.draw(t)}))}()},t.update=function(){!function(){var n=e.gap,i=e.n,r=e.m,a=e.squares,o=t.width,s=t.height;if(s/r<o/i)for(var u=s/r-n-n/r,c=(o-i*(u+n)-n)/2+n,l=0,h=n;l<r;l++,h+=u+n)for(var f=0,d=c;f<i;f++,d+=u+n)a[l][f].update(d,h,u,u);else for(var p=o/i-n-n/i,m=0,v=(s-r*(p+n)-n)/2+n;m<r;m++,v+=p+n)for(var g=0,b=n;g<i;g++,b+=p+n)a[m][g].update(b,v,p,p)}(),e.win&&Math.random()<.0165&&function(){var n=i.getBoundingClientRect(),r=n.width,a=n.height,o=new w(x(.3*r,.7*r),a,6,t.color("hsl(".concat(Math.floor(360*Math.random()),", 100%, 50%)")),300,e.fireworkParticles),s=Math.sqrt(r),u=Math.sqrt(a);e.fireworks.push(o),o.applyForce(x(-.08*s,.08*s),x(-.45*u,-.2*u))}(),function(){var t=e.fireworks,n=e.fireworkParticles;t.forEach((function(t){t.applyForce(r.x,r.y),t.update()})),n.forEach((function(t){t.applyForce(r.x,r.y),t.update()})),e.fireworks=t.filter((function(t){return t.lifespan>0})),e.fireworkParticles=n.filter((function(t){return t.lifespan>0}))}()},t.mousePressed=function(n){if("mousedown"!=n.type)return!0;for(var i=e.m,r=e.n,a=e.squares,o=0;o<i;o++)for(var s=0;s<r;s++)a[o]&&a[o][s]&&a[o][s].checkMouseClick(t.mouseX,t.mouseY)},t.windowResized=function(){var e=i.getBoundingClientRect(),n=e.width,r=e.height;t.resizeCanvas(n,r)}},k={debug:!1,m:6,n:6,showSolution:!1,editMode:!1,gap:3,state:"PLAY",initMatrix:[[1,1,0,1,0,0],[1,1,1,0,1,0],[0,1,1,0,0,1],[1,0,0,1,1,0],[0,1,0,1,1,1],[0,0,1,0,1,1]],matrix:null,squares:null,solution:null,isImpossible:!1,setImpossibleGUI:function(){},fireworks:[],fireworkParticles:[],win:!0,updateSolution:function(){var t=f(this.matrix),e=Object(u.a)(t,2);this.solution=e[0],this.isImpossible=e[1],this.setImpossibleGUI(this.isImpossible),this.win=this.isSolved()},isSolved:function(){for(var t=0;t<this.m;t++)for(var e=0;e<this.n;e++)if(this.matrix[t][e])return!1;return!0},reset:function(){this.newGame()},updateN:function(t){this.n=t,this.newGame()},updateM:function(t){this.m=t,this.newGame()},newGame:function(t){var e=0;do{this.updateSquares(t)}while(this.isImpossible&&++e<250||this.win);k.debug&&console.log("tries: ".concat(e))},updateSquares:function(t){this.matrix=[],this.squares=[];for(var e=0;e<this.m;e++){this.matrix[e]=[],this.squares[e]=[];for(var n=0;n<this.n;n++)this.matrix[e][n]=t?t[e][n]:Math.floor(2*Math.random()),this.squares[e][n]=new v(e,n)}this.updateSolution()},toggleSquare:function(t,e){this.matrix[t][e]=(this.matrix[t][e]+1)%2},initP5:function(t){y(t,this)},time:function(t){this.debug&&console.time(t)},timeEnd:function(t){this.debug&&console.timeEnd(t)}},E=k,S=n(27),j=n(45),M=Object(j.a)({openSidebar:!1,editMode:E.editMode,showSolution:E.showSolution}).useGlobalState;function O(){var t=Object(s.a)(["\n  flex: ",";\n  background-color: #d4faef;\n  overflow-x: hidden;\n  transition: flex .75s;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  cursor: ",";\n\n  h1 {\n    margin: 15px 15px 30px 15px;\n    text-align: center;\n    font-size: 35px;\n  }\n\n  h2 {\n    margin: 0 0 0 0;\n    text-align: center;\n    // align-self: flex-start;\n  }\n\n  Switch {\n    margin: 0 0 20px 0;\n  }\n\n  Button {\n    margin-bottom: 20px;\n  }\n\n  ::-webkit-scrollbar {\n    width: 4px;\n    background-color: #F5F5F5;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background-color: #000000;\n    border: 2px solid #555555;\n  }\n"]);return O=function(){return t},t}function q(){var t=M("openSidebar"),e=Object(u.a)(t,2),n=e[0],a=(e[1],M("editMode")),o=Object(u.a)(a,2),s=o[0],f=o[1],d=M("showSolution"),p=Object(u.a)(d,2),m=p[0],v=p[1],g=Object(i.useState)(E.isImpossible),b=Object(u.a)(g,2),x=b[0],w=b[1];E.setImpossibleGUI=w;var y=Object(i.useState)(E.m),k=Object(u.a)(y,2),S=k[0],j=k[1],O=Object(i.useState)(E.n),q=Object(u.a)(O,2),I=q[0],z=q[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{opened:n,cursor:s?"copy":"auto"},r.a.createElement("h1",null,"Lights Out!"),r.a.createElement("h2",null,"Width: ",I),r.a.createElement(c.a,{value:I,"aria-labelledby":"discrete-slider",step:1,marks:!0,min:1,max:10,onChange:function(t,e){I!=e&&(E.updateN(e),z(e),w(E.isImpossible))},style:{width:"80%",margin:"0 0 20px 0"}}),r.a.createElement("h2",null,"Height: ",S),r.a.createElement(c.a,{value:S,"aria-labelledby":"discrete-slider",step:1,marks:!0,min:1,max:10,onChange:function(t,e){S!=e&&(E.updateM(e),j(e),w(E.isImpossible))},style:{width:"80%",margin:"0 0 20px 0"}}),r.a.createElement(l.a,{variant:"outlined",color:"primary",onClick:function(){E.reset(),j(E.m),z(E.n),v(E.showSolution),f(E.editMode),w(E.isImpossible)}},"Shuffle"),r.a.createElement("h2",null,"Show Solution"),r.a.createElement("div",{style:{margin:"0 0 13px 0"}},r.a.createElement(h.a,{checked:m,color:"primary",onChange:function(t){v(t.target.checked),E.showSolution=t.target.checked}})),r.a.createElement("h2",null,"Edit Mode"),r.a.createElement("div",{style:{margin:"0 0 13px 0"}},r.a.createElement(h.a,{checked:s,color:"primary",onChange:function(t){f(t.target.checked),E.editMode=t.target.checked}})),r.a.createElement("h2",{style:{visibility:x?"visible":"hidden",marginTop:"15px",color:"red"}},"No Solution!")))}var C=S.a.div(O(),(function(t){return 40*t.opened}),(function(t){return t.cursor})),I=n(44),z=n.n(I),F=n(43),P=n.n(F),G=n(83),B=n(42),L=n.n(B);function R(){var t=Object(s.a)(["\n  flex: 100;\n  overflow: hidden;\n  display: flex;\n  flex-direction: row;\n  cursor: ",";\n\n  #canvasDiv {\n    flex: 1;\n    background-color: #dbf7ff;\n    overflow: hidden;\n  }\n\n  button {\n    position: absolute;\n    margin: 3px;\n    background-color: #dbf7ff;\n    display: inline-block;\n    opacity: .7;\n    border: 0;\n    padding: 0;\n    z-index: 10;\n    outline: none;\n    width: 30px;\n    height: 30px;\n  }\n\n  button:hover {\n    outline: solid;\n    outline-color: #002fff;\n    outline-width: 1px;\n  }\n\n  p {\n    display: none;\n    position: absolute;\n    margin: 3px;\n    color: #ff0000;\n    background-color: transparent;\n    font-size: 25px;\n    bottom: 5px;\n    right: 5px;\n    opacity: .7;\n    border: 0;\n    padding: 0;\n    z-index: 10;\n    outline: none;\n  }\n\n"]);return R=function(){return t},t}var N=r.a.createRef();function U(){var t=M("openSidebar"),e=Object(u.a)(t,2),n=e[0],a=e[1],o=M("editMode"),s=Object(u.a)(o,1)[0];Object(G.a)("(orientation: portrait)");return Object(i.useEffect)((function(){new L.a((function(t){E.initP5(t)}),N.current)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{cursor:s?"copy":"auto"},r.a.createElement("div",{id:"canvasDiv",ref:N}),function(){var t=r.a.createElement(P.a,null),e=r.a.createElement(z.a,null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return a((function(t){return!t}))}},n?t:e))}(),r.a.createElement("p",null,":D")))}var A=S.a.div(R(),(function(t){return t.cursor}));function D(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,null),r.a.createElement(U,null))}o.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.2ad9fde5.chunk.js.map