(this["webpackJsonplights-out"]=this["webpackJsonplights-out"]||[]).push([[0],{49:function(e,n,t){e.exports=t(61)},54:function(e,n,t){},61:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),o=t(13),a=t.n(o),s=(t(54),t(21)),u=t(7),l=t(85),c=t(82),f=t(84);function h(){x.time("solve");var e=x.m,n=x.n,t=function(){for(var e=x.m,n=x.n,t=x.matrix,i=function(t,i){return t<0||i<0||t>=e||i>=n?-1:t*n+i},r=[],o=0;o<e;o++)for(var a=function(a){var s=i(o,a);r[s]=[];for(var u=0;u<e*n;u++)r[s][u]=0;[i(o,a),i(o-1,a),i(o,a-1),i(o+1,a),i(o,a+1)].filter((function(e){return-1!=e})).forEach((function(e){return r[s][e]=1})),r[s][e*n]=t[o][a]},s=0;s<n;s++)a(s);return r}(),i=function(e){var n=e.length,t=e[0].length,i={},r=!0,o=-1;e:for(var a=0,s=0;a<n&&s<t-1;a++,s++){for(var u=c(a,s);-1==u;){if(++s>=t-1)break e;u=c(a,s)}f(a,u),h(a,s),o=i[s]=a}for(var l=o+1;l<n;l++)if(0!=e[l][t-1]){r=!1;break}return[e,i,r];function c(t,i){for(var r=t;r<n;r++)if(0!=e[r][i])return r;return-1}function f(n,t){var i=[e[t],e[n]];e[n]=i[0],e[t]=i[1]}function h(i,r){for(var o=i+1;o<n;o++)if(0!=e[o][r])for(var a=r;a<t;a++)e[o][a]=(e[o][a]+e[i][a])%2}}(t),r=Object(u.a)(i,3),o=(r[0],r[1]);if(!r[2])return x.timeEnd("solve"),[d(),!0];for(var a=[],s=t.length,l=0;l<s;l++)l in o||(a[l]=0);for(var c=s-1;c>=0;c--)if(c in o){var f=o[c];a[c]=t[f][s];for(var h=c+1;h<s;h++)a[c]=(a[c]+t[f][h]*a[h])%2}for(var m=[],p=0;p<e;p++){m[p]=[];for(var v=0;v<n;v++)m[p][v]=a[p*n+v]}return x.timeEnd("solve"),[m,!1]}function d(){for(var e=x.m,n=x.n,t=[],i=0;i<e;i++){t[i]=[];for(var r=0;r<n;r++)t[i][r]=0}return t}var m=t(33),p=t(34),v=function(){function e(n,t){Object(m.a)(this,e),this.x=this.y=this.w=this.h=0,this.i=n,this.j=t}return Object(p.a)(e,[{key:"update",value:function(e,n,t,i){this.x=e,this.y=n,this.w=t,this.h=i}},{key:"draw",value:function(e){if(e.fill(this.getColor()),e.rect(this.x,this.y,this.w,this.h),x.showSolution&&x.solution[this.i][this.j]){var n=.05*this.w,t=this.x+this.w-n-.04*this.w,i=this.y+this.h-n-.04*this.h;e.push(),e.fill("#ff0000"),e.stroke("#ffffff"),e.strokeWeight(.2),e.circle(t,i,2*n),e.pop()}}},{key:"checkMouseClick",value:function(e,n){if(e>=this.x&&e<=this.x+this.w&&n>=this.y&&n<=this.y+this.h){var t=x.m,i=x.n,r=x.editMode,o=this.i,a=this.j;x.toggleSquare(o,a),r||(o-1>=0&&x.toggleSquare(o-1,a),a-1>=0&&x.toggleSquare(o,a-1),o+1<t&&x.toggleSquare(o+1,a),a+1<i&&x.toggleSquare(o,a+1)),x.updateSolution()}}},{key:"getColor",value:function(){switch(x.matrix[this.i][this.j]){case 0:return"#000000";case 1:return"#f2fc32";default:return"#ffffff"}}}]),e}(),g=function(e,n){var t,i;function r(){var t=n.gap,i=n.n,r=n.m,o=n.squares,a=e.width,s=e.height;if(s/r<a/i)for(var u=s/r-t-t/r,l=(a-i*(u+t)-t)/2+t,c=0,f=t;c<r;c++,f+=u+t)for(var h=0,d=l;h<i;h++,d+=u+t)o[c][h].update(d,f,u,u);else for(var m=a/i-t-t/i,p=0,v=(s-r*(m+t)-t)/2+t;p<r;p++,v+=m+t)for(var g=0,b=t;g<i;g++,b+=m+t)o[p][g].update(b,v,m,m)}e.setup=function(){i=e.canvas.parentNode,(t=e.createCanvas(i.offsetWidth,i.offsetHeight).canvas).onselectstart=function(){return!1},t.oncontextmenu=function(){return!1},n.reset()},e.draw=function(){e.clear(),function(){var n=i.getBoundingClientRect(),t=n.width,r=n.height;e.width==t&&e.height==r||e.resizeCanvas(t,r)}();for(var t=n.m,o=n.n,a=n.squares,s=0;s<t;s++)for(var u=0;u<o;u++)a[s][u].update(e),r(),a[s][u].draw(e)},e.mousePressed=function(t){if("mousedown"!=t.type)return!0;for(var i=n.m,r=n.n,o=n.squares,a=0;a<i;a++)for(var s=0;s<r;s++)o[a]&&o[a][s]&&o[a][s].checkMouseClick(e.mouseX,e.mouseY)},e.windowResized=function(){var n=i.getBoundingClientRect(),t=n.width,r=n.height;e.resizeCanvas(t,r)}},b={debug:!1,m:6,n:6,showSolution:!1,editMode:!1,gap:3,state:"PLAY",initMatrix:[[1,1,0,1,0,0],[1,1,1,0,1,0],[0,1,1,0,0,1],[1,0,0,1,1,0],[0,1,0,1,1,1],[0,0,1,0,1,1]],matrix:null,squares:null,solution:null,isImpossible:!1,setImpossibleGUI:function(){},updateSolution:function(){var e=h(this.matrix),n=Object(u.a)(e,2);this.solution=n[0],this.isImpossible=n[1],this.setImpossibleGUI(this.isImpossible)},reset:function(){this.newGame()},updateN:function(e){this.n=e,this.newGame()},updateM:function(e){this.m=e,this.newGame()},newGame:function(e){var n=0;do{this.updateSquares(e)}while(this.isImpossible&&++n<250);b.debug&&console.log("tries: ".concat(n))},updateSquares:function(e){this.matrix=[],this.squares=[];for(var n=0;n<this.m;n++){this.matrix[n]=[],this.squares[n]=[];for(var t=0;t<this.n;t++)this.matrix[n][t]=e?e[n][t]:Math.floor(2*Math.random()),this.squares[n][t]=new v(n,t)}this.updateSolution()},toggleSquare:function(e,n){this.matrix[e][n]=(this.matrix[e][n]+1)%2},initP5:function(e){g(e,this)},time:function(e){this.debug&&console.time(e)},timeEnd:function(e){this.debug&&console.timeEnd(e)}},x=b,w=t(25),E=t(45),k=Object(E.a)({openSidebar:!1,editMode:x.editMode,showSolution:x.showSolution}).useGlobalState;function y(){var e=Object(s.a)(["\n  flex: ",";\n  background-color: #d4faef;\n  overflow-x: hidden;\n  transition: flex .75s;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  cursor: ",";\n\n  h1 {\n    margin: 15px 15px 30px 15px;\n    text-align: center;\n    font-size: 35px;\n  }\n\n  h2 {\n    margin: 0 0 0 0;\n    text-align: center;\n    // align-self: flex-start;\n  }\n\n  Switch {\n    margin: 0 0 20px 0;\n  }\n\n  Button {\n    margin-bottom: 20px;\n  }\n\n  ::-webkit-scrollbar {\n    width: 4px;\n    background-color: #F5F5F5;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background-color: #000000;\n    border: 2px solid #555555;\n  }\n"]);return y=function(){return e},e}function S(){var e=k("openSidebar"),n=Object(u.a)(e,2),t=n[0],o=(n[1],k("editMode")),a=Object(u.a)(o,2),s=a[0],h=a[1],d=k("showSolution"),m=Object(u.a)(d,2),p=m[0],v=m[1],g=Object(i.useState)(x.isImpossible),b=Object(u.a)(g,2),w=b[0],E=b[1];x.setImpossibleGUI=E;var y=Object(i.useState)(x.m),S=Object(u.a)(y,2),O=S[0],M=S[1],q=Object(i.useState)(x.n),C=Object(u.a)(q,2),I=C[0],G=C[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{opened:t,cursor:s?"copy":"auto"},r.a.createElement("h1",null,"Lights Out!"),r.a.createElement("h2",null,"Width: ",I),r.a.createElement(l.a,{value:I,"aria-labelledby":"discrete-slider",step:1,marks:!0,min:1,max:10,onChange:function(e,n){I!=n&&(x.updateN(n),G(n),E(x.isImpossible))},style:{width:"80%",margin:"0 0 20px 0"}}),r.a.createElement("h2",null,"Height: ",O),r.a.createElement(l.a,{value:O,"aria-labelledby":"discrete-slider",step:1,marks:!0,min:1,max:10,onChange:function(e,n){O!=n&&(x.updateM(n),M(n),E(x.isImpossible))},style:{width:"80%",margin:"0 0 20px 0"}}),r.a.createElement(c.a,{variant:"outlined",color:"primary",onClick:function(){x.reset(),M(x.m),G(x.n),v(x.showSolution),h(x.editMode),E(x.isImpossible)}},"Shuffle"),r.a.createElement("h2",null,"Show Solution"),r.a.createElement("div",{style:{margin:"0 0 13px 0"}},r.a.createElement(f.a,{checked:p,color:"primary",onChange:function(e){v(e.target.checked),x.showSolution=e.target.checked}})),r.a.createElement("h2",null,"Edit Mode"),r.a.createElement("div",{style:{margin:"0 0 13px 0"}},r.a.createElement(f.a,{checked:s,color:"primary",onChange:function(e){h(e.target.checked),x.editMode=e.target.checked}})),r.a.createElement("h2",{style:{visibility:w?"visible":"hidden",marginTop:"15px",color:"red"}},"No Solution!")))}var j=w.a.div(y(),(function(e){return 40*e.opened}),(function(e){return e.cursor})),O=t(44),M=t.n(O),q=t(43),C=t.n(q),I=t(83),G=t(42),z=t.n(G);function F(){var e=Object(s.a)(["\n  flex: 100;\n  overflow: hidden;\n  display: flex;\n  flex-direction: row;\n  cursor: ",";\n\n  #canvasDiv {\n    flex: 1;\n    background-color: #dbf7ff;\n    overflow: hidden;\n  }\n\n  button {\n    position: absolute;\n    margin: 3px;\n    background-color: #dbf7ff;\n    display: inline-block;\n    opacity: .7;\n    border: 0;\n    padding: 0;\n    z-index: 10;\n    outline: none;\n    width: 30px;\n    height: 30px;\n  }\n\n  button:hover {\n    outline: solid;\n    outline-color: #002fff;\n    outline-width: 1px;\n  }\n\n  p {\n    display: none;\n    position: absolute;\n    margin: 3px;\n    color: #ff0000;\n    background-color: transparent;\n    font-size: 25px;\n    bottom: 5px;\n    right: 5px;\n    opacity: .7;\n    border: 0;\n    padding: 0;\n    z-index: 10;\n    outline: none;\n  }\n\n"]);return F=function(){return e},e}var B=r.a.createRef();function N(){var e=k("openSidebar"),n=Object(u.a)(e,2),t=n[0],o=n[1],a=k("editMode"),s=Object(u.a)(a,1)[0];Object(I.a)("(orientation: portrait)");return Object(i.useEffect)((function(){new z.a((function(e){x.initP5(e)}),B.current)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{cursor:s?"copy":"auto"},r.a.createElement("div",{id:"canvasDiv",ref:B}),function(){var e=r.a.createElement(C.a,null),n=r.a.createElement(M.a,null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return o((function(e){return!e}))}},t?e:n))}(),r.a.createElement("p",null,":D")))}var P=w.a.div(F(),(function(e){return e.cursor}));function R(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(N,null))}a.a.render(r.a.createElement(R,null),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.d015342f.chunk.js.map